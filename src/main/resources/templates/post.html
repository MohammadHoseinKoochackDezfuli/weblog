<!DOCTYPE html>
<html lang="en" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>post</title>
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <header id="header"></header>
    <div class="container">
        <div id="content">loading...</div>
        <div id="tags">loading...</div>
    </div>
    <footer id="footer"></footer>
    <script src="/headerMaker.js"></script>
    <script src="/footerMaker.js"></script>
    <script>
        const params = new URLSearchParams(window.location.search);
        const slug = params.get("slug");
        fetch("http://localhost:8083/posts/findBySlug?slug="+slug)
        .then(res=>res.json())
        .then(res=>{
            document.getElementById("content").innerHTML=res.content;
        })
        fetch("http://localhost:8083/tags/findAllByPostId?slug="+slug)
        .then(res=>res.json())
        .then(res=>{
            var text="";
            for(var i=0;i<res.length;i++)
            {
                if(i!=0)
                {
                    text+="<br>";
                }
                text+="<a href='../tag?slug="+res[i].slug+"'>#"+res[i].name+"</a>";
            }
            document.getElementById("tags").innerHTML=text;
        })
    </script>
</body>
</html>